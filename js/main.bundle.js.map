{"version":3,"file":"main.bundle.js","mappings":"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","sources":["webpack://kekstagram/./source/js/effects.js","webpack://kekstagram/./source/js/scale.js","webpack://kekstagram/./source/js/validation.js","webpack://kekstagram/webpack/bootstrap","webpack://kekstagram/./source/js/util.js","webpack://kekstagram/./source/js/big-picture.js","webpack://kekstagram/./source/js/pictures.js","webpack://kekstagram/./source/js/api.js","webpack://kekstagram/./source/js/status.js","webpack://kekstagram/./source/js/upload.js","webpack://kekstagram/./source/js/filters.js","webpack://kekstagram/./source/js/main.js"],"sourcesContent":["const EFFECTS = {\n  chrome: {step: 0.1, filter: 'grayscale'},\n  sepia: {step: 0.1, filter: 'sepia'},\n  marvin: {step: 1, filter: 'invert'},\n  phobos: {step: 0.1, filter: 'blur'},\n  heat: {step: 0.1, filter: 'brightness'},\n};\n\nconst effectsElements = document.querySelector('.effects__list');\nconst imgUploadPreview = document.querySelector('.img-upload__preview > img');\nconst sliderElement = document.querySelector('.effect-level__slider');\nconst sliderValue = document.querySelector('.effect-level__value');\nconst effectLevel = document.querySelector('.img-upload__effect-level');\n\nlet effect = 'none';\nlet stepEffect = 0.1;\n\nwindow.noUiSlider.create(sliderElement, {\n  range: {\n    min: 0,\n    max: 100,\n  },\n  start: 100,\n  step: stepEffect,\n  connect: 'lower',\n});\n\neffectsElements.addEventListener('change', (evt) => {\n  effect = evt.target.value;\n\n  sliderElement.noUiSlider.updateOptions(\n    {start: 100},\n    true\n  );\n\n  imgUploadPreview.className = '';\n\n  if(effect === 'none') {\n    imgUploadPreview.style.filter = '';\n    effectLevel.classList.add('hidden');\n\n    return;\n  } else {\n    effectLevel.classList.remove('hidden');\n  }\n\n  imgUploadPreview.classList.add(`effects__preview--${effect}`);\n  stepEffect = EFFECTS[effect].step;\n});\n\nsliderElement.noUiSlider.on('update', (_, handle, unencoded) => {\n  if(effect === 'none') {\n    imgUploadPreview.style.filter = '';\n\n    return;\n  }\n\n  let filter;\n  sliderValue.value = unencoded[handle];\n\n  if (effect === 'marvin') {\n    filter = `${EFFECTS[effect].filter}(${unencoded[handle]}%)`;\n  } else if (effect === 'phobos') {\n    filter = `${EFFECTS[effect].filter}(${unencoded[handle]}px)`;\n  } else {\n    filter = `${EFFECTS[effect].filter}(${unencoded[handle]})`;\n  }\n\n  imgUploadPreview.style.filter = filter;\n});\n","const CONTROL_VALUES = {\n  min: '25%',\n  max: '100%',\n};\n\nconst smallerElement = document.querySelector('.scale__control--smaller');\nconst biggerElement = document.querySelector('.scale__control--bigger');\nconst valueElement = document.querySelector('.scale__control--value');\nconst imgUploadPreview = document.querySelector('.img-upload__preview > img');\n\nsmallerElement.addEventListener('click', () => {\n  const valueInput = valueElement.value;\n  let newValue;\n  let scaleStyle;\n\n  if (valueInput === CONTROL_VALUES.min) {\n    return;\n  }\n\n  switch (valueInput) {\n    case '100%':\n      newValue = '75%';\n      scaleStyle = 'scale(0.75)';\n      break;\n    case '75%':\n      newValue = '50%';\n      scaleStyle = 'scale(0.5)';\n      break;\n    case '50%':\n      newValue = '25%';\n      scaleStyle = 'scale(0.25)';\n      break;\n  }\n\n  valueElement.value = newValue;\n  imgUploadPreview.style.transform = scaleStyle;\n});\n\nbiggerElement.addEventListener('click', () => {\n  const valueInput = valueElement.value;\n  let newValue;\n  let scaleStyle;\n\n  if (valueInput === CONTROL_VALUES.max) {\n    return;\n  }\n\n  switch (valueInput) {\n    case '25%':\n      newValue = '50%';\n      scaleStyle = 'scale(0.5)';\n      break;\n    case '50%':\n      newValue = '75%';\n      scaleStyle = 'scale(0.75)';\n      break;\n    case '75%':\n      newValue = '100%';\n      scaleStyle = 'scale(1)';\n      break;\n  }\n\n  valueElement.value = newValue;\n  imgUploadPreview.style.transform = scaleStyle;\n});\n","const MAX_SYMBOLS = 20;\nconst MAX_HASHTAGS = 5;\nconst MAX_DESCRIPTION_LENGTH = 140;\n\nconst hashtagsInput = document.querySelector('.text__hashtags');\nconst descriptionInput = document.querySelector('.text__description');\n\ndescriptionInput.addEventListener('input', () => {\n  const valueLength = descriptionInput.value.length;\n\n  if (valueLength > MAX_DESCRIPTION_LENGTH) {\n    descriptionInput.setCustomValidity('Удалите лишние ' + (valueLength - MAX_NAME_LENGTH) +' симв.');\n  } else {\n    descriptionInput.setCustomValidity('');\n  }\n\n  descriptionInput.reportValidity();\n});\n\nhashtagsInput.addEventListener('input', () => {\n  hashtagsInput.setCustomValidity('');\n\n  let inputText = hashtagsInput.value.toLowerCase().trim();\n\n  if (!inputText) {\n    return;\n  }\n\n  let inputArray = inputText.split(/\\s+/);\n\n  if (inputArray.length === 0) {\n    return;\n  }\n\n  const isStartNotHashtag = inputArray.some((item) => {\n    return item[0] !== '#';\n  });\n  if (isStartNotHashtag) {\n    hashtagsInput.setCustomValidity('Хэш-тег начинается с символа #');\n\n  }\n\n  const isOnlyLatticeHashtag = inputArray.some((item) => {\n    return item === '#';\n  });\n  if (isOnlyLatticeHashtag) {\n    hashtagsInput.setCustomValidity('Хэш-тег не может состоять только из решетки')\n  }\n\n  const isSplitSpaceHashtag = inputArray.some((item) => {\n    return item.indexOf('#', 1) >= 1;\n  });\n  if (isSplitSpaceHashtag) {\n    hashtagsInput.setCustomValidity('Хэш-теги разделяются пробелами');\n  }\n\n  const isRepeatingHashtag = inputArray.some((item, i, arr) => {\n    return arr.indexOf(item, i + 1) >= i + 1;\n  });\n  if (isRepeatingHashtag) {\n    hashtagsInput.setCustomValidity('Хэш-теги не должны повторяться');\n  }\n\n  const isLongHashtag = inputArray.some((item) => {\n    return item.length > MAX_SYMBOLS;\n  });\n  if (isLongHashtag) {\n    hashtagsInput.setCustomValidity('Максимальная длина хэш-тега 20 символов, включая решетку');\n  }\n\n  if (inputArray.length > MAX_HASHTAGS) {\n    hashtagsInput.setCustomValidity('Максимум 5 хэш-тегов');\n  }\n})\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const Keys = {\n  ESCAPE: 'Escape',\n  ESC: 'Esc',\n  ENTER: 'Enter',\n};\n\nconst getRandomIntInclusive = (min, max) => {\n  if (min < 0 || max < 0) {\n    return -1;\n  }\n\n  if (max <= min) {\n    [min, max]=[max, min];\n  }\n\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nconst getStringCount = (text, maxLength) => {\n  return text.length <= maxLength;\n};\n\nconst isEscEvent = (evt) => {\n  return evt.key === Keys.ESCAPE || evt.key === Keys.ESC;\n};\n\nconst isEnterEvent = (evt) => {\n  return evt.key === Keys.ENTER;\n};\n\nexport {getRandomIntInclusive, getStringCount, isEscEvent, isEnterEvent};\n","import {isEscEvent, isEnterEvent} from './util.js';\n\nconst COMMENTS_LOAD_STEP = 5;\n\nconst bigPicture = document.querySelector('.big-picture');\nconst comments = bigPicture.querySelector('.social__comments');\nconst modalClose = bigPicture.querySelector('.big-picture__cancel');\nconst buttonComments = bigPicture.querySelector('.comments-loader');\nconst countComments = bigPicture.querySelector('.comments-count');\nlet countVisibleComments = COMMENTS_LOAD_STEP;\nlet currentPicture;\n\nconst openBigPicture = (picture) => {\n  const image = bigPicture.querySelector('.big-picture__img').querySelector('img');\n  const likes = bigPicture.querySelector('.likes-count');\n  const maxCountComments = bigPicture.querySelector('.comments-count-max');\n  const description = bigPicture.querySelector('.social__caption');\n\n  currentPicture = picture;\n  image.src = picture.url;\n  likes.textContent = picture.likes;\n  description.textContent = picture.description;\n\n  if (picture.comments.length <= COMMENTS_LOAD_STEP) {\n    bigPicture.querySelector('.comments-loader').classList.add('hidden');\n\n    countVisibleComments = picture.comments.length;\n  }\n\n  addComments(picture.comments, 0, countVisibleComments);\n\n\n  countComments.textContent = countVisibleComments;\n  maxCountComments.textContent = picture.comments.length;\n\n  bigPicture.classList.remove('hidden');\n  document.querySelector('body').classList.add('modal-open');\n  document.addEventListener('keydown', onPopupEscKeydown);\n};\n\nbuttonComments.addEventListener('click', () => {onClick(currentPicture);});\n\nconst onClick = (picture) => {\n  if (countVisibleComments + COMMENTS_LOAD_STEP < picture.comments.length) {\n    addComments(picture.comments, countVisibleComments, countVisibleComments + COMMENTS_LOAD_STEP);\n    countVisibleComments += COMMENTS_LOAD_STEP;\n    countComments.textContent = countVisibleComments;\n\n    return;\n  }\n\n  addComments(picture.comments, countVisibleComments, countVisibleComments + (picture.comments.length - countVisibleComments));\n  countVisibleComments = countVisibleComments + (picture.comments.length - countVisibleComments);\n  countComments.textContent = countVisibleComments;\n  bigPicture.querySelector('.comments-loader').classList.add('hidden');\n}\n\nconst addComments = (comments, start, count) => {\n  for (let i = start; i < count; i++) {\n    addComment(comments[i]);\n  }\n}\n\nconst addComment = (comment) => {\n  const commentTemplate = document.querySelector('#comment').content.querySelector('.social__comment');\n  const newComment = commentTemplate.cloneNode(true);\n\n  const image = newComment.querySelector('.social__picture');\n  const textComment = newComment.querySelector('.social__text');\n\n  image.src = comment.avatar;\n  image.alt = comment.name;\n  textComment.textContent = comment.message;\n\n  comments.appendChild(newComment);\n};\n\nconst removeComments = () => {\n  const comments = document.querySelectorAll('.social__comment');\n\n  if (comments) {\n    comments.forEach(element => {\n      element.remove();\n    });\n  }\n};\n\nconst closeModal = () => {\n  bigPicture.classList.add('hidden');\n  removeComments();\n  buttonComments.removeEventListener('click', () => {onClick(currentPicture);});\n  countVisibleComments = COMMENTS_LOAD_STEP;\n\n  if (bigPicture.querySelector('.comments-loader').classList.contains('hidden')) {\n    bigPicture.querySelector('.comments-loader').classList.remove('hidden');\n  }\n\n  document.removeEventListener('keydown', onPopupEscKeydown);\n  document.querySelector('body').classList.remove('modal-open');\n};\n\nconst onPopupEscKeydown = (evt) => {\n  if (isEscEvent(evt)) {\n    evt.preventDefault();\n    closeModal();\n  }\n};\n\nmodalClose.addEventListener('click', closeModal);\n\nmodalClose.addEventListener('keydown', (evt) => {\n  if (isEnterEvent(evt)) {\n    closeModal();\n  }\n});\n\nexport {openBigPicture};\n","import {openBigPicture} from './big-picture.js';\n\nconst pictures = document.querySelector('.pictures');\nconst pictureTemplate = document.querySelector('#picture').content;\nconst newItemTemplate = pictureTemplate.querySelector('.picture');\nconst errorMessage = document.querySelector('.error-message');\n\nconst renderPictures = _.debounce((items) => {\n  for (let i = 0; i < items.length; i++) {\n    renderPicture(items[i]);\n  }\n}, 500);\n\nconst renderPicture = (item) => {\n  const picture = newItemTemplate.cloneNode(true);\n  const image = picture.querySelector('.picture__img');\n  const comments = picture.querySelector('.picture__comments');\n  const likes = picture.querySelector('.picture__likes');\n\n  image.src = item.url;\n  comments.textContent = item.comments.length;\n  likes.textContent = item.likes;\n\n  picture.addEventListener('click', (evt) => {\n    evt.preventDefault();\n\n    openBigPicture(item);\n  });\n\n  pictures.appendChild(picture);\n}\n\n\nconst failedRenderPictures = () =>{\n  errorMessage.classList.remove('hidden');\n\n\n  setTimeout(errorMessageHide, 5000);\n}\n\nconst errorMessageHide = () => {\n  errorMessage.classList.add('hidden');\n}\n\nexport {renderPictures, failedRenderPictures};\n","let photos;\n\nconst getData = async (onSuccess, onError) => {\n  try {\n    const response = await fetch('https://23.javascript.pages.academy/kekstagram/data');\n    const data = await response.json();\n\n    onSuccess(data);\n    photos = data;\n  } catch (error) {\n    onError(error);\n  }\n};\n\nconst sendData = async (onSuccess, onError, body) => {\n  try {\n    const response = await fetch( 'https://23.javascript.pages.academy/kekstagram',\n    {\n      method: 'POST',\n      body,\n    },);\n\n    if (response.ok) {\n      onSuccess();\n    } else {\n      onError();\n    }\n  } catch (error) {\n    onError();\n  }\n};\n\nexport {getData, sendData, photos};\n","import {isEscEvent, isEnterEvent} from './util.js';\n\nconst main = document.querySelector('main');\nconst errorTemplate = document.querySelector('#error').content.querySelector('.error');\nconst errorFragment = document.createDocumentFragment();\nconst successTemplate = document.querySelector('#success').content.querySelector('.success');\nconst successFragment = document.createDocumentFragment();\n\n\nconst showError = () => {\n  const errorElement = errorTemplate.cloneNode(true);\n  const errorButton = errorElement.querySelector('.error__button');\n\n  document.addEventListener('click', (evt) => {\n    let element = errorElement.querySelector('.error__inner');\n\n    if (!element.contains(evt.target)) {\n      hideAllert('.error')\n    }\n  });\n\n  errorButton.addEventListener('click', () => {\n    hideAllert('.error');\n  });\n\n  errorButton.addEventListener('keydown', (evt) => {\n    if (isEnterEvent(evt)) {\n      hideAllert('.error');\n    }\n  });\n\n  document.addEventListener('keydown', onAlertEscKeydown);\n\n  errorFragment.appendChild(errorElement);\n  main.appendChild(errorFragment);\n};\n\n\nconst showSuccess = () => {\n  const successElement = successTemplate.cloneNode(true);\n  const successButton = successElement.querySelector('.success__button');\n\n  document.addEventListener('click', (evt) => {\n    let element = successElement.querySelector('.success__inner');\n\n    if (!element.contains(evt.target)) {\n      hideAllert('.success')\n    }\n  });\n\n  successButton.addEventListener('click', () => {\n    hideAllert('.success');\n  });\n\n  successButton.addEventListener('keydown', (evt) => {\n    if (isEnterEvent(evt)) {\n      hideAllert('.success');\n    }\n  });\n\n  document.addEventListener('keydown', onAlertEscKeydown);\n\n  successFragment.appendChild(successElement);\n  main.appendChild(successFragment);\n}\n\nconst hideAllert = (type) => {\n  document.querySelector(type).remove();\n  document.removeEventListener('keydown', onAlertEscKeydown);\n};\n\nconst onAlertEscKeydown = (evt) => {\n  if (isEscEvent(evt)) {\n    hideAllert();\n  }\n};\n\nexport { showError, showSuccess };\n","import {sendData} from './api.js';\nimport {isEscEvent, isEnterEvent} from './util.js';\nimport {showError, showSuccess} from './status.js';\n\nconst FILE_TYPES = ['gif', 'jpg', 'jpeg', 'png'];\n\nconst uploadFile = document.querySelector('#upload-file');\nconst imgUploadOverlay = document.querySelector('.img-upload__overlay');\nconst uploadCancel = document.querySelector('#upload-cancel');\nconst hashtagsInput = document.querySelector('.text__hashtags');\nconst descriptionInput = document.querySelector('.text__description');\nconst imgUploadPreview = document.querySelector('.img-upload__preview > img');\nconst scaleValue = document.querySelector('.scale__control--value');\nconst effectLevel = imgUploadOverlay.querySelector('.img-upload__effect-level');\nconst uploadForm = document.querySelector('.img-upload__form');\nconst effectsPreviews = document.querySelectorAll('.effects__preview');\n\nuploadFile.addEventListener('input', () => {\n  const valueLength = uploadFile.value.length;\n\n  if (valueLength > 0) {\n    imgUploadOverlay.classList.remove('hidden');\n    document.querySelector('body').classList.add('modal-open');\n  }\n\n  document.addEventListener('keydown', onPopupEscKeydown);\n});\n\nuploadFile.addEventListener('change', () => {\n  const file = uploadFile.files[0];\n  const fileName = file.name.toLowerCase();\n\n  const matches = FILE_TYPES.some((it) => {\n    return fileName.endsWith(it);\n  });\n\n  if (matches) {\n    const reader = new FileReader();\n\n    reader.addEventListener('load', () => {\n      imgUploadPreview.src = reader.result;\n\n      effectsPreviews.forEach((preview) => {\n        preview.style.backgroundImage = `url(${reader.result})`;\n      });\n    });\n\n    reader.readAsDataURL(file);\n  }\n});\n\nconst closeModal = () => {\n  imgUploadOverlay.classList.add('hidden');\n  resetSettings();\n\n  document.removeEventListener('keydown', onPopupEscKeydown);\n  document.querySelector('body').classList.remove('modal-open');\n};\n\nconst resetSettings = () => {\n  imgUploadPreview.style.transform = 'scale(1)';\n  imgUploadPreview.style.filter = '';\n  imgUploadPreview.className = '';\n  scaleValue.value = '100%';\n  effectLevel.classList.add('hidden');\n};\n\nconst setUploadFormSubmit = () => {\n  uploadForm.addEventListener('submit',  (evt) => {\n    evt.preventDefault();\n\n    sendData(\n      () => successSend(),\n      () => errorSend(),\n      new FormData(evt.target),\n    );\n  })\n};\n\nconst successSend = () => {\n  closeModal();\n  showSuccess();\n};\n\nconst errorSend = () => {\n  closeModal();\n  showError();\n};\n\nconst onPopupEscKeydown = (evt) => {\n  if (isEscEvent(evt) &&  hashtagsInput !== document.activeElement && descriptionInput !== document.activeElement) {\n    evt.preventDefault();\n\n    closeModal();\n  }\n};\n\nuploadCancel.addEventListener('click', () => {\n  closeModal();\n});\n\nuploadCancel.addEventListener('keydown', (evt) => {\n  if (isEnterEvent(evt)) {\n    closeModal();\n  }\n});\n\nexport {setUploadFormSubmit};\n\n","import {photos} from './api.js';\nimport {renderPictures} from './pictures.js';\nimport {getRandomIntInclusive} from './util.js';\n\nconst filtersElement = document.querySelector('.img-filters');\nconst filtersForm = filtersElement.querySelector('.img-filters__form');\nlet filterButtonId = 'filter-default';\nlet newPhotos = photos;\n\nconst activateFilters = () => {\n  return filtersElement.classList.remove('img-filters--inactive');\n};\n\nfiltersForm.addEventListener('click', (evt) => {\n  if (evt.target.id === filterButtonId && evt.target.id !== 'filter-random') {\n    return;\n  }\n\n  let currentFilter = filtersElement.querySelector(`#${filterButtonId}`);\n\n  currentFilter.classList.remove('img-filters__button--active');\n\n  filterButtonId = evt.target.id;\n\n  let newFilter = filtersElement.querySelector(`#${filterButtonId}`);\n\n  newFilter.classList.add('img-filters__button--active');\n\n  switch (filterButtonId) {\n    case 'filter-default':\n      newPhotos = photos.slice();\n      break;\n    case 'filter-random':\n      randomPhotos();\n      break;\n    case 'filter-discussed':\n      discussedPhotos();\n      break;\n  }\n\n  removePhotos();\n  renderPictures(newPhotos);\n});\n\nconst removePhotos = () => {\n  const images = document.querySelectorAll('.picture');\n\n  if (images) {\n    images.forEach(element => {\n      element.remove();\n    });\n  }\n};\n\nconst randomPhotos = () => {\n  newPhotos = [];\n  for (let i = 0; i < 10; i++) {\n    newPhotos.push(photos[getRandomIntInclusive(0, photos.length - 1)]);\n  }\n}\n\nconst discussedPhotos = () => {\n  newPhotos = photos.slice().sort((a, b) => b.comments.length - a.comments.length);\n}\n\nexport {activateFilters};\n","import './pictures.js';\nimport './upload.js';\nimport './scale.js';\nimport './effects.js';\nimport './validation.js';\nimport {renderPictures, failedRenderPictures} from './pictures.js';\nimport {getData} from './api.js';\nimport {setUploadFormSubmit} from './upload.js';\nimport {activateFilters} from './filters.js';\n\nconst load = async () => {\n  try {\n    await getData(\n      (photos) => {\n        renderPictures(photos);\n      },\n      (error) => {\n        failedRenderPictures(error);\n      }\n    );\n\n    activateFilters();\n  } catch (error) {\n    failedRenderPictures(error);\n  }\n};\n\nload();\n\nsetUploadFormSubmit();\n"],"names":["EFFECTS","chrome","step","filter","sepia","marvin","phobos","heat","effectsElements","document","querySelector","imgUploadPreview","sliderElement","sliderValue","effectLevel","effect","stepEffect","window","noUiSlider","create","range","min","max","start","connect","addEventListener","evt","target","value","updateOptions","className","style","classList","add","remove","on","_","handle","unencoded","smallerElement","biggerElement","valueElement","valueInput","newValue","scaleStyle","transform","hashtagsInput","descriptionInput","valueLength","length","setCustomValidity","MAX_NAME_LENGTH","reportValidity","inputText","toLowerCase","trim","inputArray","split","some","item","indexOf","i","arr","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","isEscEvent","key","isEnterEvent","bigPicture","comments","modalClose","buttonComments","countComments","currentPicture","countVisibleComments","onClick","picture","addComments","textContent","count","addComment","comment","newComment","content","cloneNode","image","textComment","src","avatar","alt","name","message","appendChild","closeModal","querySelectorAll","forEach","element","removeComments","removeEventListener","contains","onPopupEscKeydown","preventDefault","pictures","newItemTemplate","errorMessage","renderPictures","debounce","items","renderPicture","likes","url","maxCountComments","description","openBigPicture","failedRenderPictures","setTimeout","errorMessageHide","photos","main","errorTemplate","errorFragment","createDocumentFragment","successTemplate","successFragment","hideAllert","type","onAlertEscKeydown","FILE_TYPES","uploadFile","imgUploadOverlay","uploadCancel","scaleValue","uploadForm","effectsPreviews","file","files","fileName","it","endsWith","reader","FileReader","result","preview","backgroundImage","readAsDataURL","resetSettings","activeElement","filtersElement","filtersForm","filterButtonId","newPhotos","id","slice","randomPhotos","discussedPhotos","removePhotos","images","push","Math","ceil","floor","random","sort","a","b","async","onSuccess","onError","response","fetch","data","json","error","getData","load","body","method","ok","successElement","successButton","showSuccess","sendData","errorElement","errorButton","showError","FormData"],"sourceRoot":""}